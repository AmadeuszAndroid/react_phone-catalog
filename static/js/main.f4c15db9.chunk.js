(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{28:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var s,a=c(7),r=c(23),n=c.n(r),i=c(0),o=c(3);c(28);!function(e){e.left="left",e.right="right",e.top="up"}(s||(s={}));var l=c(9),d=c.n(l),j=c(1),u=function(e){var t=e.direction,c=e.buttonExtraClass,s=e.onClick,a=e.disabled,r="img/arrows/arrow-".concat(t).concat(a?"-disabled":"",".svg"),n="Arrow ".concat(t),i=d()("arrow",{"arrow--disabled":a},c);return Object(j.jsx)("button",{className:i,type:"button",onClick:s,disabled:a,children:Object(j.jsx)("img",{className:"arrow__img",src:r,alt:n})})};u.defaultProps={buttonExtraClass:"",disabled:!1};var b,h=function(e){var t=e.imageClasses;return Object(j.jsx)("img",{src:"img/logo.svg",alt:"Logo",className:t})},m=function(){var e=function(){return window.scrollTo(0,0)};return Object(j.jsxs)("footer",{className:"home__footer footer",children:[Object(j.jsxs)("div",{className:"footer__left",children:[Object(j.jsx)(h,{imageClasses:"footer__logo logo"}),Object(j.jsxs)("div",{className:"footer__links",children:[Object(j.jsx)("a",{className:"footer__link",href:"https://github.com/AmadeuszAndroid/react_phone-catalog/tree/develop",children:"Github"}),Object(j.jsx)("a",{className:"footer__link",href:"#/",children:"Contacts"}),Object(j.jsx)("a",{className:"footer__link",href:"#/",children:"rights"})]})]}),Object(j.jsxs)("div",{className:"footer__top-nav",children:[Object(j.jsx)("button",{className:"footer__top-link-text",type:"button",onClick:e,children:"Back to top"}),Object(j.jsx)(u,{direction:s.top,onClick:e})]})]})},_=function(){return Object(j.jsx)(a.c,{className:"cart",to:"cart",children:Object(j.jsx)("img",{className:"cart__icon",src:"img/header/cart.svg",alt:"Cart"})})},O=function(){return Object(j.jsx)(a.c,{className:"favourites",to:"favourites",children:Object(j.jsx)("img",{className:"favourites__icon",src:"img/header/favourites.svg",alt:"Favourites"})})},x=function(){return Object(j.jsxs)("nav",{className:"nav",children:[Object(j.jsx)(a.c,{className:"nav__link",to:"/",children:"home"}),Object(j.jsx)(a.c,{className:"nav__link",to:"/phones",children:"phones"}),Object(j.jsx)(a.c,{className:"nav__link",to:"/tablets",children:"tablets"}),Object(j.jsx)(a.c,{className:"nav__link",to:"/accessories",children:"accessories"})]})},p=c(4),g=function(e){var t=e.currentPage,c=Object(a.d)(),s=Object(p.a)(c,2),r=s[0],n=s[1],i="Search in ".concat(t,"...");return Object(j.jsxs)("div",{className:"search",children:[Object(j.jsx)("label",{className:"search__label",htmlFor:"search",children:Object(j.jsx)("img",{className:"search__icon",src:"img/header/search/search.svg",alt:"Search"})}),Object(j.jsx)("input",{id:"search",className:"search__input",type:"text",placeholder:i,onChange:function(e){var t=e.target.value;t?r.set("query",t):r.delete("query"),n(r)},value:r.get("query")||""})]})},f=function(e){var t=e.hasSearch,c=e.currentPage;return Object(j.jsxs)("header",{id:"header",className:"header",children:[Object(j.jsxs)("div",{className:"header__part header__part--left",children:[Object(j.jsx)(h,{imageClasses:"header__logo logo"}),Object(j.jsx)(x,{})]}),Object(j.jsxs)("div",{className:"header__part",children:[t&&Object(j.jsx)(g,{currentPage:c}),Object(j.jsx)(O,{}),Object(j.jsx)(_,{})]})]})},v=function(e){var t=e.text;return Object(j.jsx)("h1",{className:"title",children:t})},N=function(e){var t=e.name,c=e.imagePath,s=e.productsCount,a="".concat(s," models");return Object(j.jsxs)("div",{className:"category",children:[Object(j.jsx)("img",{className:"category__image",src:c,alt:t}),Object(j.jsx)("h3",{className:"category__name",children:t}),Object(j.jsx)("p",{className:"category__count",children:a})]})};!function(e){e.phone="phone",e.tablet="tablet",e.accessories="accessories",e.all="all"}(b||(b={}));var y="https://mate-academy.github.io/react_phone-catalog/api/products.json";function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.all;return fetch(y).then((function(e){return e.json()})).then((function(t){return e===b.all?t:t.filter((function(t){return t.type===e}))}))}var C,P=function(){var e=Object(i.useState)([]),t=Object(p.a)(e,2),c=t[0],s=t[1];function r(e){return c.filter((function(t){return t.type===e})).length}var n=r(b.phone),o=r(b.tablet),l=r(b.accessories);return Object(i.useEffect)((function(){k().then(s)}),[]),Object(j.jsxs)("div",{className:"home__categories shop-by-category",children:[Object(j.jsx)(v,{text:"Shop by category"}),Object(j.jsxs)("div",{"data-cy":"categoryLinksContainer",className:"shop-by-category__categories",children:[Object(j.jsx)(a.b,{className:"shop-by-category__link",to:"phones",children:Object(j.jsx)(N,{imagePath:"img/home/categories/mobile-phones.png",name:"Mobile phones",productsCount:n})}),Object(j.jsx)(a.b,{className:"shop-by-category__link",to:"tablets",children:Object(j.jsx)(N,{imagePath:"img/home/categories/tablets.png",name:"Tablets",productsCount:o})}),Object(j.jsx)(a.b,{className:"shop-by-category__link",to:"accessories",children:Object(j.jsx)(N,{imagePath:"img/home/categories/accessories.png",name:"Accessories",productsCount:l})})]})]})};!function(e){e[e.phones=0]="phones",e[e.tablets=1]="tablets",e[e.accessories=2]="accessories"}(C||(C={}));var w=function(){var e,t=Object(i.useState)(0),c=Object(p.a)(t,2),a=c[0],r=c[1];switch(a){case C.tablets:e="tablets";break;case C.accessories:e="accessories";break;case C.phones:default:e="phones"}var n="img/home/slider/banner-".concat(e,".png"),o=d()("categories-slider__bar",{"categories-slider__bar--visible":0===a}),l=d()("categories-slider__bar",{"categories-slider__bar--visible":1===a}),b=d()("categories-slider__bar",{"categories-slider__bar--visible":2===a}),h=function(){var e;e=a===C.accessories?C.phones:a+1,r(e)};return Object(i.useEffect)((function(){var e=setInterval((function(){return h()}),5e3);return function(){return clearInterval(e)}}),[a]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"home__categories-slider categories-slider",children:[Object(j.jsx)(u,{direction:s.left,buttonExtraClass:"categories-slider__nav",onClick:function(){var e;e=a===C.phones?C.accessories:a-1,r(e)}}),Object(j.jsx)("img",{className:"categories-slider__image",src:n,alt:"Banner"}),Object(j.jsx)(u,{direction:s.right,buttonExtraClass:"categories-slider__nav",onClick:h})]}),Object(j.jsxs)("div",{className:"categories-slider__bars",children:[Object(j.jsx)("div",{className:o}),Object(j.jsx)("div",{className:l}),Object(j.jsx)("div",{className:b})]})]})},S=c(8);function A(e){var t=function(){var t=localStorage.getItem(e);return"string"===typeof t?JSON.parse(t):[]},c=Object(i.useState)(t),s=Object(p.a)(c,2),a=s[0],r=s[1];return[t,function(t){r(t),localStorage.setItem(e,JSON.stringify(t))},function(e){return a.some((function(t){return t.id===e}))}]}var E=function(e){var t=e.name,c=e.value;return Object(j.jsxs)("div",{className:"product-card__detail product-card-detail",children:[Object(j.jsx)("div",{className:"product-card-detail__name",children:t}),Object(j.jsx)("div",{className:"product-card-detail__value",children:c})]})};function B(e){return"".concat(e.split("MB")[0]," ","MB")}var F,I=function(e){var t=e.product,c=A("cart"),s=Object(p.a)(c,3),a=s[0],r=s[1],n=s[2],i=A("favorites"),o=Object(p.a)(i,3),l=o[0],u=o[1],b=o[2],h=t.imageUrl,m=t.name,_=t.price,O=t.discount,x=t.screen,g=t.capacity,f=t.ram,v=t.id,N="$".concat(_-O/100*_),y="$".concat(_),k=x.replace(" inches","\u201d"),C=B(g),P=B(f),w=n(v)?"Added to cart":"Add to cart",F=d()("product-card__cart",{"product-card__cart--clicked":n(v)}),I=d()({"product-card__cart-text":!n(v),"product-card__cart-text--clicked":n(v)}),J=b(v)?"img/favorites/heart-selected.svg":"img/favorites/heart.svg";return Object(j.jsxs)("div",{className:"product-card",children:[Object(j.jsx)("img",{className:"product-card__image",src:h,alt:"Product"}),Object(j.jsx)("p",{className:"product-card__name",children:m}),Object(j.jsxs)("div",{className:"product-card__prices",children:[Object(j.jsx)("h2",{className:"product-card__current-price",children:N}),O>0&&Object(j.jsx)("div",{className:"product-card__previous-price",children:y})]}),Object(j.jsxs)("div",{className:"product-card__details",children:[Object(j.jsx)(E,{name:"screen",value:k}),Object(j.jsx)(E,{name:"capacity",value:C}),Object(j.jsx)(E,{name:"ram",value:P})]}),Object(j.jsxs)("footer",{className:"product-card__buttons",children:[Object(j.jsx)("button",{className:F,type:"button",onClick:function(){n(v)||r([].concat(Object(S.a)(a()),[t]))},children:Object(j.jsx)("span",{className:I,children:w})}),Object(j.jsx)("button",{className:"product-card__favorites",type:"button",onClick:function(){b(v)?u(Object(S.a)(l().filter((function(e){return e.id!==v})))):u([].concat(Object(S.a)(l()),[t]))},children:Object(j.jsx)("img",{className:"product-card__heart",src:J,alt:"Add to favorites"})})]})]})},J=function(e){var t=e.products;return Object(j.jsx)("div",{"data-cy":"cardsContainer",className:"products-slider__cards",children:t.map((function(e){return Object(j.jsx)(I,{product:e},e.id)}))})};!function(e){e[e.hotProducts=0]="hotProducts",e[e.newProducts=1]="newProducts"}(F||(F={}));var M=function(e){var t=e.title,c=e.type,a=Object(i.useState)([]),r=Object(p.a)(a,2),n=r[0],o=r[1],l=Object(i.useState)(0),d=Object(p.a)(l,2),b=d[0],h=d[1],m=n.slice(b,4+b),_=0===b,O=b+4===n.length;function x(e){return e.price*e.discount/100}return Object(i.useEffect)((function(){k().then((function(e){switch(c){case F.newProducts:return e.filter((function(e){return 0===e.discount})).sort((function(e,t){return e.age-t.age}));case F.hotProducts:default:return e.filter((function(e){return e.discount>0})).sort((function(e,t){return x(t)-x(e)}))}})).then(o)}),[]),Object(j.jsxs)("div",{className:"home__products-slider products-slider",children:[Object(j.jsxs)("div",{className:"products-slider__header",children:[Object(j.jsx)(v,{text:t}),Object(j.jsxs)("div",{className:"cardsContainer__arrows",children:[Object(j.jsx)(u,{direction:s.left,onClick:function(){b>0&&h(b-1)},disabled:_}),Object(j.jsx)(u,{direction:s.right,onClick:function(){b+4<n.length&&h(b+1)},disabled:O})]})]}),Object(j.jsx)(J,{products:m})]})},q=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{hasSearch:!1,currentPage:"home"}),Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(w,{}),Object(j.jsx)(M,{title:"Hot prices",type:F.hotProducts}),Object(j.jsx)(P,{}),Object(j.jsx)(M,{title:"Brand new models",type:F.newProducts})]}),Object(j.jsx)(m,{})]})},L=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{hasSearch:!0,currentPage:"phones"}),Object(j.jsx)(m,{})]})},T=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(q,{})}),Object(j.jsx)(o.a,{path:"/phones",element:Object(j.jsx)(L,{})})]})})};n.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(i.StrictMode,{children:Object(j.jsx)(T,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.f4c15db9.chunk.js.map